<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	
	<canvas id='canvas'></canvas>
	
</body>
<script type="text/javascript">
	var digit=[
				[
					[0,0,1,1,1,0,0],
					[0,1,1,0,1,1,0],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[0,1,1,0,1,1,0],
					[0,0,1,1,1,0,0]
				],//0
				[
					[0,0,0,1,1,0,0],
					[0,1,1,1,1,0,0],
					[0,0,0,1,1,0,0],
					[0,0,0,1,1,0,0],
					[0,0,0,1,1,0,0],
					[0,0,0,1,1,0,0],
					[0,0,0,1,1,0,0],
					[0,0,0,1,1,0,0],
					[0,0,0,1,1,0,0],
					[1,1,1,1,1,1,1]
				],//1
				[
					[0,1,1,1,1,1,0],
					[1,1,0,0,0,1,1],
					[0,0,0,0,0,1,1],
					[0,0,0,0,1,1,0],
					[0,0,0,1,1,0,0],
					[0,0,1,1,0,0,0],
					[0,1,1,0,0,0,0],
					[1,1,0,0,0,0,0],
					[1,1,0,0,0,1,1],
					[1,1,1,1,1,1,1]
				],//2
				[
					[1,1,1,1,1,1,1],
					[0,0,0,0,0,1,1],
					[0,0,0,0,1,1,0],
					[0,0,0,1,1,0,0],
					[0,0,1,1,1,0,0],
					[0,0,0,0,1,1,0],
					[0,0,0,0,0,1,1],
					[0,0,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[0,1,1,1,1,1,0]
				],//3
				[
					[0,0,0,0,1,1,0],
					[0,0,0,1,1,1,0],
					[0,0,1,1,1,1,0],
					[0,1,1,0,1,1,0],
					[1,1,0,0,1,1,0],
					[1,1,1,1,1,1,1],
					[0,0,0,0,1,1,0],
					[0,0,0,0,1,1,0],
					[0,0,0,0,1,1,0],
					[0,0,0,1,1,1,1]
				],//4
				[
					[1,1,1,1,1,1,1],
					[1,1,0,0,0,0,0],
					[1,1,0,0,0,0,0],
					[0,1,1,1,1,1,0],
					[0,0,0,0,0,1,1],
					[0,0,0,0,0,1,1],
					[0,0,0,0,0,1,1],
					[0,0,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[0,1,1,1,1,1,0]
				],//5
				[
					[0,0,0,0,1,1,0],
					[0,0,1,1,0,0,0],
					[0,1,1,0,0,0,0],
					[1,1,0,0,0,0,0],
					[1,1,0,1,1,1,0],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[0,1,1,1,1,1,0]
				],//6
				[
					[1,1,1,1,1,1,1],
					[1,1,0,0,0,1,1],
					[0,0,0,0,1,1,0],
					[0,0,0,0,1,1,0],
					[0,0,0,1,1,0,0],
					[0,0,0,1,1,0,0],
					[0,0,1,1,0,0,0],
					[0,0,1,1,0,0,0],
					[0,0,1,1,,0,0],
					[0,0,1,1,0,0,0]
				],//7
				[
					[0,1,1,1,1,1,0],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[0,1,1,1,1,1,0],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[0,1,1,1,1,1,0]
				],//8
				[
					[0,1,1,1,1,1,0],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[1,1,0,0,0,1,1],
					[0,1,1,1,0,1,1],
					[0,0,0,0,0,1,1],
					[0,0,0,0,0,1,1],
					[0,0,0,0,1,1,0],
					[0,0,0,1,1,0,0],
					[0,1,1,0,0,0,0]
				],//9
				[
					[0,0,0,0],
					[0,0,0,0],
					[0,1,1,0],
					[0,1,1,0],
					[0,0,0,0],
					[0,0,0,0],
					[0,1,1,0],
					[0,1,1,0],
					[0,0,0,0],
					[0,0,0,0],
				]//:
				
			  ];
	var WINDOW_WIDTH=1024;
	var WINDOW_HEIGHT=500;
	var RADIUS=8;
	var MARGIN_TOP=30;
	var MARGIN_LEFT=30;
    var endTime = new Date();
    endTime.setTime(endTime.getTime()+3600*24000);
	var curShowTimeSecond=0;
	var balls=[];
	var colors=['#33b5e5','#0099cc','#aa66cc','#9933cc','#99cc00','#669900','#ffbb33','#ff8800','#ff4444','#cc0000'];
	window.onload=function(){
		var canvas=document.getElementById('canvas');
		var context=canvas.getContext('2d');
		canvas.width=WINDOW_WIDTH;
		canvas.height=WINDOW_HEIGHT;
		curShowTimeSeconds=getcurShowTimeSeconds();
		setInterval(
			function(){
				render(context);
				update();
			}
			,
			50
			);
	
	}

	function getcurShowTimeSeconds(){
		var curTime=new Date();
		var ret=endTime.getTime()-curTime.getTime();
		ret=Math.round(ret/1000);
		
		return ret>=0?ret:0;
	}

	function update(){


 

    

		var nextShowTimeSeconds=getcurShowTimeSeconds();
		var nexthours=parseInt(nextShowTimeSeconds/3600);
		var nextminutes=parseInt((nextShowTimeSeconds-nexthours*3600)/60);
		var nextseconds=nextShowTimeSeconds%60;
		var curhours=parseInt(curShowTimeSeconds/3600);
		var curminutes=parseInt((curShowTimeSeconds-curhours*3600)/60);
		var curseconds=curShowTimeSeconds%60;
		if(curseconds!=nextseconds){
			if(parseInt(curhours/10)!=parseInt(nexthours/10))
			{
				addBalls(MARGIN_LEFT,MARGIN_TOP,parseInt(curhours/10));
			}
			if(parseInt(curhours%10)!=parseInt(nexthours%10))
			{
				addBalls(MARGIN_LEFT+15*(RADIUS+1),MARGIN_TOP,parseInt(curhours%10));
			}
			if(parseInt(curminutes/10)!=parseInt(nextminutes/10))
			{
				addBalls(MARGIN_LEFT+39*(RADIUS+1),MARGIN_TOP,parseInt(curminutes/10));
			}
			if(parseInt(curminutes%10)!=parseInt(nextminutes%10))
			{
				addBalls(MARGIN_LEFT+54*(RADIUS+1),MARGIN_TOP,parseInt(curminutes%10));
			}
			if(parseInt(curseconds/10)!=parseInt(nextseconds/10))
			{
				addBalls(MARGIN_LEFT+78*(RADIUS+1),MARGIN_TOP,parseInt(curseconds/10));
			}
			if(parseInt(curseconds%10)!=parseInt(nextseconds%10))
			{
				addBalls(MARGIN_LEFT+93*(RADIUS+1),MARGIN_TOP,parseInt(curseconds%10));
			}

			curShowTimeSeconds=nextShowTimeSeconds;

		}
		updateBalls();
	}
	function updateBalls(){

		for(var i=0;i<balls.length;i++)
		{
			balls[i].x=balls[i].x+balls[i].vx;
			balls[i].y=balls[i].y+balls[i].vy;
			balls[i].vy=balls[i].vy+balls[i].g;
			if(balls[i].y>=WINDOW_HEIGHT-RADIUS)
			{
				balls[i].y=WINDOW_HEIGHT-RADIUS;
				balls[i].vy=-balls[i].vy*0.75;
			}
		}

	}

	function addBalls(x,y,num)
	{
		for(var i=0;i<digit[num].length;i++)
		{
			for(var j=0;j<digit[num][i].length;j++)
			{
				if(digit[num][i][j]==1){

					var aBall={
						x:x+j*2*(RADIUS+1)+(RADIUS+1),
						y:y+i*2*(RADIUS+1)+(RADIUS+1),
						g:1.5+Math.random(),
						vx:Math.pow(-1,Math.ceil(Math.random()*1000))*4,
						vy:-5,
						color:colors[Math.floor(Math.random()*colors.length)]


					}
					balls.push(aBall);
					
				}
				
			}
		}	

	}
	function render(cxt)
	{
		cxt.clearRect(0,0,WINDOW_WIDTH,WINDOW_HEIGHT);

		var hours=parseInt(curShowTimeSeconds/3600);
		var minutes=parseInt((curShowTimeSeconds-hours*3600)/60);
		var seconds=parseInt(curShowTimeSeconds%60);
		
		renderDight(MARGIN_LEFT,MARGIN_TOP,parseInt(hours/10),cxt);
		renderDight(MARGIN_LEFT+15*(RADIUS+1),MARGIN_TOP,parseInt(hours%10),cxt);
		renderDight(MARGIN_LEFT+30*(RADIUS+1),MARGIN_TOP,10,cxt);
		renderDight(MARGIN_LEFT+39*(RADIUS+1),MARGIN_TOP,parseInt(minutes/10),cxt);
		renderDight(MARGIN_LEFT+54*(RADIUS+1),MARGIN_TOP,parseInt(minutes%10),cxt);
		renderDight(MARGIN_LEFT+69*(RADIUS+1),MARGIN_TOP,10,cxt);
		renderDight(MARGIN_LEFT+78*(RADIUS+1),MARGIN_TOP,parseInt(seconds/10),cxt);
		renderDight(MARGIN_LEFT+93*(RADIUS+1),MARGIN_TOP,parseInt(seconds%10),cxt);
		
		for(var i=0;i<balls.length;i++)
		{
			cxt.fillStyle=balls[i].color;
			cxt.beginPath();
			cxt.arc(balls[i].x,balls[i].y,RADIUS,0,2*Math.PI);
			cxt.closePath();
			cxt.fill();
			
		}

	}
	function renderDight(x,y,num,cxt){
		cxt.fillStyle='rgb(0,102,153)';
		for(var i=0;i<digit[num].length;i++)
		{
			for(var j=0;j<digit[num][i].length;j++)
			{
				if(digit[num][i][j]==1){

					cxt.beginPath();
					cxt.arc(x+2*(RADIUS+1)*j+RADIUS+1,y+2*(RADIUS+1)*i+RADIUS+1,RADIUS,0,2*Math.PI);
					cxt.closePath();
					cxt.fill();
				}
				
			}
		}	


	}
</script>
</html>